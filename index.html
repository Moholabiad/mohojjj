<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>صفحة طلب المنتج</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            padding: 20px;
            background-color: #f4f4f4;
            color: #333;
            text-align: right; /* لجعل النص يبدأ من اليمين */
        }
        h1 {
            color: #0056b3;
            text-align: center;
        }
        form {
            background-color: #fff;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            max-width: 500px;
            margin: 20px auto;
        }
        label {
            display: block;
            margin-bottom: 8px;
            font-weight: bold;
        }
        input[type="text"],
        textarea {
            width: calc(100% - 20px);
            padding: 10px;
            margin-bottom: 20px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 16px;
        }
        textarea {
            resize: vertical;
            min-height: 80px;
        }
        button {
            background-color: #007bff;
            color: white;
            padding: 12px 20px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 18px;
            width: 100%;
        }
        button:hover {
            background-color: #0056b3;
        }
    </style>
</head>
<body>
    <h1>اطلب منتجك الآن</h1>

    <form id="order-form">
        <label for="name">الاسم كاملاً:</label>
        <input type="text" id="name" name="name" required>

        <label for="phone">رقم الهاتف:</label>
        <input type="text" id="phone" name="phone" required>

        <label for="address">العنوان كاملاً (الشارع، المدينة، الولاية):</label>
        <textarea id="address" name="address" required></textarea>

        <button type="submit">اطلب الآن</button>
    </form>

    <script>
        // احصل على مرجع لنموذج الطلب
        const orderForm = document.getElementById('order-form');

        // استمع لحدث إرسال النموذج (عندما يضغط المستخدم على زر "اطلب الآن")
        orderForm.addEventListener('submit', function(event) {
            event.preventDefault(); // منع الإرسال الافتراضي للصفحة لتجنب إعادة التحميل

            // جمع البيانات من حقول النموذج
            const name = document.getElementById('name').value;
            const phone = document.getElementById('phone').value;
            const address = document.getElementById('address').value;

            // مهم جداً:
            // استبدل 'YOUR_TELEGRAM_BOT_TOKEN' برمز الروبوت الخاص بك من BotFather.
            // استبدل 'YOUR_TELEGRAM_CHAT_ID' بمعرف الدردشة (ID) الخاص بالقناة أو المجموعة التي تريد إرسال الرسائل إليها.
            // يمكنك الحصول على Chat ID عن طريق إرسال أي رسالة إلى الروبوت الخاص بك ثم زيارة:
            // https://api.telegram.org/botYOUR_TELEGRAM_BOT_TOKEN/getUpdates
            // وابحث عن "chat":{"id":...}
            const botToken ='8046263011:AAHorMJl4j11A05nr3JSRJgt2zyr323WnZs'; 
            const chatId ='-1002605627772'; 

            // قم بإنشاء رسالة واضحة تحتوي على تفاصيل الطلب
            const messageText =`*طلب جديد!*\n\n*الاسم:* ${name}\n*رقم الهاتف:* ${phone}\n*العنوان:* ${address}`;

            // بناء عنوان URL لإرسال الرسالة عبر Telegram Bot API
            const telegramApiUrl =`https://api.telegram.org/bot${botToken}/sendMessage?chat_id=${chatId}&text=${encodeURIComponent(messageText)}&parse_mode=Markdown`;

            // إرسال طلب HTTP (Fetch API) إلى Telegram API
            fetch(telegramApiUrl)
                .then(response => {
                    // تحقق مما إذا كان الطلب قد تم بنجاح (الحالة 200 OK)
if (response.ok) {
                        alert('تم استلام طلبك بنجاح! سنتواصل معك قريباً.');
                        orderForm.reset(); // مسح حقول النموذج بعد الإرسال الناجح
                    } else {
                        // في حالة وجود خطأ، أظهر رسالة للمستخدم
                        alert('حدث خطأ أثناء إرسال طلبك. يرجى المحاولة مرة أخرى.');
                        console.error('Telegram API Error:', response.statusText); // لعرض الخطأ في Console للمطور
                    }
                })
                .catch(error => {
                    // في حالة وجود مشكلة في الاتصال بالشبكة
                    alert('لا يمكن الاتصال بالخادم. يرجى التحقق من اتصالك بالإنترنت.');
                    console.error('Network Error:', error);
                });
        });
    </script>
</body>
</html>
                      
